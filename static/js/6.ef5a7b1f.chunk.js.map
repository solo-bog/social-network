{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/Dialogs/Dialogs.module.css","components/Settings/Settings.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","connect","props","to","module","exports","compose","userPhoto","profilePage","profile","photos","large","myId","userId","getProfile","uploadPhoto","useEffect","file","React","createRef","height","src","alt","onSubmit","current","handleSubmit","className","s","messagesInput","validate","required","name","component","input","meta","htmlFor","ref","type","id","error","touched"],"mappings":"wJAIMA,EAAkB,SAACC,GAAD,MAAY,CAClCC,OAAQD,EAAME,KAAKD,SAWNE,IARU,SAACC,GAKxB,OAAOC,YAAQN,EAARM,EAJgB,SAACC,GACtB,OAAKA,EAAML,OACJ,cAACG,EAAD,IADmB,cAAC,IAAD,CAAUG,GAAG,gB,mBCT3CC,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,YAAc,6BAA6B,YAAc,6BAA6B,SAAW,0BAA0B,QAAU,yBAAyB,UAAY,2BAA2B,YAAc,6BAA6B,cAAgB,iC,0ICmDrZC,sBACbP,IACAE,aANsB,SAACL,GAAD,MAAY,CAClCW,UAAWX,EAAMY,YAAYC,QAAQC,OAAOC,MAC5CC,KAAMhB,EAAME,KAAKe,UAIQ,CAAEC,eAAYC,kBAF1BT,EA3CE,SAAC,GAEX,IADLM,EACI,EADJA,KAAML,EACF,EADEA,UAAWQ,EACb,EADaA,YAAaD,EAC1B,EAD0BA,WAE9BE,qBAAU,WACRF,EAAWF,KACV,CAACA,EAAME,IACV,IAAMG,EAAOC,IAAMC,YACnB,OACE,gCACE,qBAAKC,OAAO,QAAQC,IAAKd,EAAWe,IAAI,KACxC,cAAC,IAAD,CAAMC,SAAU,kBAAMR,EAAYE,EAAKO,UAAvC,SACG,gBAAGC,EAAH,EAAGA,aAAH,OACC,uBAAMC,UAAWC,IAAEC,cAAeL,SAAUE,EAA5C,UACE,8BACE,cAAC,IAAD,CAAOI,SAAUC,IAAUC,KAAK,QAAQC,UAAU,QAAlD,SACG,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACC,gCACE,8BAEE,uBAAOC,QAAQ,cAAf,4BAEF,8BAAK,+CAAOC,IAAKnB,GAAUgB,GAAtB,IAA6BI,KAAK,OAAOC,GAAG,mBACjD,8BACGJ,EAAKK,OAASL,EAAKM,SAAW,+BAAON,EAAKK,kBAMrD,8BACE,wBAAQF,KAAK,SAAb","file":"static/js/6.ef5a7b1f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  const wrappComponent = (props) => {\r\n    if (!props.isAuth) return <Redirect to=\"/login\" />;\r\n    return <Component />;\r\n  };\r\n  return connect(mapStateToProps)(wrappComponent);\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__S0nSV\",\"dialogsItems\":\"Dialogs_dialogsItems__2mGt1\",\"dialog\":\"Dialogs_dialog__e-fNE\",\"active\":\"Dialogs_active__G_DeA\",\"dialogImage\":\"Dialogs_dialogImage__1JP85\",\"dialogsInfo\":\"Dialogs_dialogsInfo__2bIyR\",\"messages\":\"Dialogs_messages__2ITMS\",\"message\":\"Dialogs_message__3w7Hx\",\"myMessage\":\"Dialogs_myMessage__3YYGz\",\"messageText\":\"Dialogs_messageText__1Yxzl\",\"messagesInput\":\"Dialogs_messagesInput__Id-x5\"};","import React, { useEffect } from 'react';\r\nimport { Field, Form } from 'react-final-form';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport s from '../Dialogs/Dialogs.module.css';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { getProfile, uploadPhoto } from '../../redux/profileReducer';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\n\r\nconst Settings = ({\r\n  myId, userPhoto, uploadPhoto, getProfile,\r\n}) => {\r\n  useEffect(() => {\r\n    getProfile(myId);\r\n  }, [myId, getProfile]);\r\n  const file = React.createRef();\r\n  return (\r\n    <div>\r\n      <img height=\"100px\" src={userPhoto} alt=\"\" />\r\n      <Form onSubmit={() => uploadPhoto(file.current)}>\r\n        {({ handleSubmit }) => (\r\n          <form className={s.messagesInput} onSubmit={handleSubmit}>\r\n            <div>\r\n              <Field validate={required} name=\"photo\" component=\"input\">\r\n                {({ input, meta }) => (\r\n                  <div>\r\n                    <div>\r\n                      {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\r\n                      <label htmlFor=\"uploadPhoto\">Select photo</label>\r\n                    </div>\r\n                    <div><input ref={file} {...input} type=\"file\" id=\"uploadPhoto\" /></div>\r\n                    <div>\r\n                      {meta.error && meta.touched && <span>{meta.error}</span>}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </div>\r\n            <div>\r\n              <button type=\"submit\">Send</button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userPhoto: state.profilePage.profile.photos.large,\r\n  myId: state.auth.userId,\r\n});\r\nexport default compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, { getProfile, uploadPhoto }),\r\n)(Settings);\r\n"],"sourceRoot":""}