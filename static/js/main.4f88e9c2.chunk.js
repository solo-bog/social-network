(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(55),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"4d15cfab-86d6-416c-b19b-dc3aef73fd8b"}}),c={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followRequest:function(e){return a.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowRequest:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data}))}},s={getProfileInfo:function(e){return a.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return a.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return a.put("profile/status",{status:e}).then((function(e){return e.data}))},uploadPhoto:function(e){var t=new FormData;return t.append("image",e.files[0]),a.post("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},i={getAuthStatus:function(){return a.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return a.delete("auth/login").then((function(e){return e.data}))}}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=function(e){if(!e)return"Field is require"},a=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e)}},c=function(e){return function(t){if(t&&t.length<e)return"Min length is ".concat(e)}}},20:function(e,t,n){e.exports={formControl:"FormsControls_formControl__388sf",error:"FormsControls_error__2nHqD",errorText:"FormsControls_errorText__2NdBo"}},30:function(e,t,n){e.exports={header:"Header_header__o0VLS",header__logo:"Header_header__logo__3KfuX",loginBlock:"Header_loginBlock__1lc82"}},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(3),a=n(1),c=n(56),s=(n(0),n(20)),i=n.n(s),o=function(e){e.input;var t=e.meta,n=Object(c.a)(e,["input","meta"]),r=t.error&&t.touched;return Object(a.jsx)("div",{className:"".concat(i.a.formControl," ").concat(r?i.a.error:""),children:Object(a.jsxs)("div",{children:[n.children,r&&Object(a.jsx)("span",{className:i.a.errorText,children:t.error})]})})},u=function(e){return Object(a.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("textarea",Object(r.a)(Object(r.a)({},e.input),e))}))},l=function(e){return Object(a.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("input",Object(r.a)(Object(r.a)({},e.input),e))}))}},34:function(e,t,n){"use strict";var r=n(1),a=(n(0),n(39)),c=n.n(a);t.a=function(){return Object(r.jsx)("div",{className:c.a.preloaderContainer,children:Object(r.jsxs)("div",{className:c.a.ldsEllipsis,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})})}},35:function(e,t,n){"use strict";t.a=n.p+"static/media/user.8d4016a0.svg"},39:function(e,t,n){e.exports={preloaderContainer:"Preloader_preloaderContainer__2a4q3",ldsEllipsis:"Preloader_ldsEllipsis__3SZJW","lds-ellipsis1":"Preloader_lds-ellipsis1__1EWwZ","lds-ellipsis2":"Preloader_lds-ellipsis2__2Mp94","lds-ellipsis3":"Preloader_lds-ellipsis3__1RPGU"}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return v}));var r=n(4),a=n.n(r),c=n(7),s=n(18),i=n(3),o=n(11),u=n(35),l="ADD-POST",d="SET_USER_PROFILE",f="UPDATE_USER_STATUS",p="DELETE_POST",b={posts:[{id:1,message:"I like old films. They are atmospheres.",likesCount:10},{id:2,message:"Baron Corbin is my brother. He is cool dude.",likesCount:12},{id:3,message:"I am very happy girl.",likesCount:32},{id:4,message:"Hi, i'm Alice. It is my first post in this network.",likesCount:2}],profile:{photos:{small:u.a,large:u.a}},status:""},j=function(e){return{type:l,postText:e}},h=function(e){return{type:f,status:e}},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getProfileInfo(e);case 2:r=t.sent,n({type:d,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:r=t.sent,n(h(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.updateStatus(e);case 2:0===(r=t.sent).resultCode?n(h(e)):console.log("error:".concat(r.messages));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.b.uploadPhoto(e);case 3:0===t.sent.resultCode&&n(m(r().profilePage.profile.userId)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n={id:e.posts.length+1,message:t.postText,likesCount:2};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n])});case d:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case f:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case p:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),a=n(3),c="ADD-MESSAGE",s={dialogs:[{id:1,name:"Dima",img:"https://cdn.shopify.com/s/files/1/0045/5104/9304/t/27/assets/AC_ECOM_SITE_2020_REFRESH_1_INDEX_M2_THUMBS-V2-1.jpg?v=8913815134086573859"},{id:2,name:"Andrey",img:"https://dm.henkel-dam.com/is/image/henkel/men_perfect_com_thumbnails_home_pack_400x400-wcms-international?scl=1&fmt=jpg"},{id:3,name:"Sveta",img:"https://i.pinimg.com/originals/81/a9/4a/81a94a7d0454d9ec58f1ea8db69d9b2e.jpg"},{id:4,name:"Tima",img:"https://www.adobe.com/content/dam/cc/us/en/creative-cloud/photography/discover/portrait-photography/CODERED_B1_portrait_photography-P4b_438x447.jpg.img.jpg"},{id:5,name:"Maks",img:"https://theportraitmasters.com/wp-content/uploads/2019/02/DayronVera_SelfPortrait-1-300x300.jpg"}],messages:[{id:1,message:"Hi",isMy:!1},{id:2,message:"How is your education",isMy:!1},{id:3,message:"Hi. All is cool!",isMy:!0},{id:4,message:"Goodbye",isMy:!1}]},i=function(e){return{type:c,newMessageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:e.messages.length+1,message:t.newMessageText,isMy:!0}])});default:return e}}},52:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return E}));var r=n(4),a=n.n(r),c=n(7),s=n(18),i=n(3),o=n(11),u="FOLLOW",l="UNFOLLOW",d="SET_USERS",f="SET_CURRENT_PAGE",p="SET_TOTAL_USERS_COUNT",b="TOOGLE_IS_FETCHING",j="TOGGLE_IS_FOLLOWING_PROCESS",h={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},m=function(e,t,n){return e.map((function(e){var r=e;return r.id===t&&(r.followed=n),r}))},O=function(e){return{type:u,userId:e}},g=function(e){return{type:l,userId:e}},v=function(e){return{type:f,currentPage:e}},x=function(e){return{type:b,isFetching:e}},_=function(e,t){return{type:j,isFollowing:e,userId:t}},w=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(!0)),n.prev=1,n.next=4,o.c.getUsers(e,t);case 4:c=n.sent,r((s=c.items,{type:d,users:s})),r((a=c.totalCount,{type:p,totalUsersCount:a})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:return n.prev=12,r(x(!1)),n.finish(12);case 15:case"end":return n.stop()}var a,s}),n,null,[[1,9,12,15]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.prev=1,t.next=4,o.c.followRequest(e);case 4:0===t.sent.resultCode&&n(O(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:return t.prev=11,n(_(!1,e)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.prev=1,t.next=4,o.c.unfollowRequest(e);case 4:0===t.sent.resultCode&&n(g(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:return t.prev=11,n(_(!1,e)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(i.a)(Object(i.a)({},e),{},{users:m(e.users,t.userId,!0)});case l:return Object(i.a)(Object(i.a)({},e),{},{users:m(e.users,t.userId,!1)});case d:return Object(i.a)(Object(i.a)({},e),{},{users:Object(s.a)(t.users)});case f:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case p:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount});case b:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case j:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFollowing?[].concat(Object(s.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},62:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(28),i=n.n(s),o=(n(62),n(8)),u=n(16),l=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,96)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},d=n(15),f=n(54),p=n(40),b=n(51),j=n(52),h=n(4),m=n.n(h),O=n(7),g=n(3),v=n(11),x="SET_USER_DATA",_="SET_FORM_ERROR",w={userId:null,email:null,login:null,isAuth:!1,formError:null},y=function(e,t,n,r){return{type:x,data:{userId:e,email:t,login:n,isAuth:r}}},E=function(e){return{type:_,error:e}},C=function(){return function(){var e=Object(O.a)(m.a.mark((function e(t){var n,r,a,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getAuthStatus();case 2:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,c=r.login,s=r.email,t(y(a,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(g.a)(Object(g.a)({},e),t.data);case _:return Object(g.a)(Object(g.a)({},e),{},{formError:t.error});default:return e}},k="INITIALIZED_SUCCESS",T={initialized:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},I=Object(d.c)({profilePage:p.b,dialogsPage:b.b,usersPage:j.a,auth:S,app:N}),P=Object(d.d)(Object(d.a)(f.a),window.devToolsExtension?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}),R=Object(d.e)(I,P);window.store=R;var A=R,M=n(24),F=n(25),U=n(27),L=n(26),D=(n(86),n(5)),z=n(9),H=n.n(z),q=function(){return Object(r.jsxs)("nav",{className:H.a.nav,children:[Object(r.jsx)("div",{className:H.a.item,children:Object(r.jsx)(o.b,{to:"/profile",activeClassName:H.a.active,children:"Profile"})}),Object(r.jsx)("div",{className:H.a.item,children:Object(r.jsx)(o.b,{to:"/dialogs",activeClassName:H.a.active,children:"Messages"})}),Object(r.jsx)("div",{className:H.a.item,children:Object(r.jsx)(o.b,{to:"/news",activeClassName:H.a.active,children:"News"})}),Object(r.jsx)("div",{className:H.a.item,children:Object(r.jsx)(o.b,{to:"/music",activeClassName:H.a.active,children:"Music"})}),Object(r.jsx)("div",{className:H.a.item,children:Object(r.jsx)(o.b,{to:"/settings",activeClassName:H.a.active,children:"Settings"})}),Object(r.jsx)("div",{className:H.a.item,children:Object(r.jsx)(o.b,{to:"/users",activeClassName:H.a.active,children:"Users"})})]})},B=n(30),G=n.n(B),W=function(e){var t=e.isAuth,n=e.login,a=e.logout;return Object(r.jsxs)("header",{className:G.a.header,children:[Object(r.jsx)(o.b,{className:G.a.header__logo,to:"",children:Object(r.jsx)("img",{src:"https://www.veeam.com/content/dam/veeam/global/veeam-graphics/veeam_logo_white-500.png.web.1280.1280.png?ck=1572622163865&ck=1572622163865",alt:"logo"})}),Object(r.jsx)("div",{className:G.a.loginBlock,children:t?Object(r.jsxs)("div",{children:[n,Object(r.jsx)("button",{type:"submit",onClick:a,children:"Log out"})]}):Object(r.jsx)(o.b,{to:"/login",children:"Login"})})]})},V=function(e){Object(U.a)(n,e);var t=Object(L.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"render",value:function(){return Object(r.jsx)(W,Object(g.a)({},this.props))}}]),n}(c.a.Component),X=Object(u.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.logout();case 2:0===e.sent.resultCode&&t(y(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(V),J=n(21),Z=n(33),K=n(17),Y=n(20),Q=n.n(Y),$=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},ee=function(e){var t=e.loginRequest,n=e.formError;return Object(r.jsx)(J.b,{onSubmit:function(){var e=Object(O.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.email,n.password,n.rememberMe));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),render:function(e){var t=e.handleSubmit,a=e.submitting;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(J.a,{validate:$(K.c,Object(K.a)(20),Object(K.b)(5)),placeholder:"Email",name:"email",component:Z.a})}),Object(r.jsx)("div",{children:Object(r.jsx)(J.a,{validate:$(K.c,Object(K.a)(20),Object(K.b)(6)),placeholder:"Password",name:"password",type:"password",component:Z.a})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(J.a,{name:"rememberMe",id:"rememberMe",component:"input",type:"checkbox"})," ",Object(r.jsx)("span",{htmlFor:"rememberMe",children:" remember me"})]}),Object(r.jsx)("div",{children:n&&Object(r.jsx)("div",{className:Q.a.errorText,children:n})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",disabled:a,children:"Login"})})]})}})},te=Object(u.b)((function(e){return{isAuth:e.auth.isAuth,formError:e.auth.formError}}),(function(e){return{loginRequest:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(O.a)(m.a.mark((function r(a){var c,s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.a.login(e,t,n);case 2:0===(c=r.sent).resultCode?(a(C()),a(E(null))):(s=c.messages[0]||"Some error",a(E(s)));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))((function(e){var t=e.isAuth,n=e.formError,a=e.loginRequest;return t?Object(r.jsx)(D.a,{to:"/profile"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)(ee,{formError:n,loginRequest:a})]})})),ne=n(34),re=c.a.lazy((function(){return n.e(8).then(n.bind(null,97))})),ae=c.a.lazy((function(){return n.e(7).then(n.bind(null,98))})),ce=c.a.lazy((function(){return n.e(6).then(n.bind(null,99))})),se=c.a.lazy((function(){return n.e(5).then(n.bind(null,102))})),ie=c.a.lazy((function(){return n.e(4).then(n.bind(null,101))})),oe=c.a.lazy((function(){return n.e(3).then(n.bind(null,100))})),ue=function(e){Object(U.a)(n,e);var t=Object(L.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.initialize)()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(X,{}),Object(r.jsx)(q,{}),Object(r.jsx)("div",{className:"app-wrapper-content",children:Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)(ne.a,{}),children:Object(r.jsxs)(D.d,{children:[Object(r.jsx)(D.b,{path:"/dialogs",render:function(){return Object(r.jsx)(se,{})}}),Object(r.jsx)(D.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(oe,{})}}),Object(r.jsx)(D.b,{path:"/news",component:re}),Object(r.jsx)(D.b,{path:"/music",component:ae}),Object(r.jsx)(D.b,{path:"/settings",component:ce}),Object(r.jsx)(D.b,{path:"/users",component:ie}),Object(r.jsx)(D.b,{path:"/login",component:te})]})})})]}):Object(r.jsx)(ne.a,{})}}]),n}(c.a.Component),le=Object(d.d)(D.g,Object(u.b)((function(e){return{initialized:e.app.initialized}}),{initialize:function(){return function(e){var t=e(C());Promise.all([t]).then((function(){e({type:k})}))}}}))(ue);i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(o.a,{basename:"/",children:Object(r.jsx)(u.a,{store:A,children:Object(r.jsx)(le,{})})})}),document.getElementById("root")),l()},9:function(e,t,n){e.exports={nav:"Navbar_nav__2cevN",item:"Navbar_item__3Igov",active:"Navbar_active__1mBxT"}}},[[88,1,2]]]);
//# sourceMappingURL=main.4f88e9c2.chunk.js.map