{"version":3,"sources":["components/Users/UsersList/UsersListElement.jsx","components/Users/UsersList/UsersList.jsx","components/common/Pagination/Pagination.jsx","components/Users/Users.jsx","../node_modules/reselect/es/index.js","components/Users/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withAuthRedirect.jsx","components/Users/UsersList/UsersList.module.css","components/common/Pagination/Pagination.module.css"],"names":["UsersListElement","props","className","styles","userItem","userPhoto","to","user","id","src","photos","small","userImage","alt","userActionBtn","followed","type","onClick","unfollowAccept","disabled","followingInProgress","some","followAccept","userInfo","userName","name","status","UsersList","users","map","u","Pagination","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","pagination","onPageChanged","pageNumber","currentPage","selectedPage","Users","isFetching","Preloader","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","filter","UsersContainer","this","getUsersRequest","setCurrentPage","React","Component","compose","withAuthRedirect","connect","mapStateToProps","isAuth","auth","module","exports"],"mappings":"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","file":"static/js/4.9d7018ac.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './UsersList.module.css';\r\nimport userImage from '../../../assets/images/user.svg';\r\n\r\nconst UsersListElement = (props) => (\r\n  <div className={styles.userItem}>\r\n    <div className={styles.userPhoto}>\r\n      <NavLink to={`/profile/${props.user.id}`}>\r\n        <img\r\n          src={props.user.photos.small != null ? props.user.photos.small : userImage}\r\n          alt=\"\"\r\n        />\r\n      </NavLink>\r\n    </div>\r\n    <div className={styles.userActionBtn}>\r\n      {props.user.followed\r\n        ? (\r\n          <button\r\n            type=\"submit\"\r\n            onClick={() => {\r\n              props.unfollowAccept(props.user.id);\r\n            }}\r\n            disabled={props.followingInProgress.some((id) => id === props.user.id)}\r\n          >\r\n            Unfollow\r\n          </button>\r\n        )\r\n        : (\r\n          <button\r\n            type=\"submit\"\r\n            onClick={() => {\r\n              props.followAccept(props.user.id);\r\n            }}\r\n            disabled={props.followingInProgress.some((id) => id === props.user.id)}\r\n          >\r\n            Follow\r\n          </button>\r\n        )}\r\n    </div>\r\n    <div className={styles.userInfo}>\r\n      <div className={styles.userName}>{props.user.name}</div>\r\n      <div>{props.user.status}</div>\r\n    </div>\r\n  </div>\r\n);\r\nexport default UsersListElement;\r\n","import React from 'react';\r\nimport UsersListElement from './UsersListElement';\r\n\r\nconst UsersList = ({\r\n  users, unfollowAccept, followAccept, followingInProgress,\r\n}) => (\r\n  <div>\r\n    {\r\n        users.map((u) => (\r\n          <UsersListElement\r\n            key={u.id}\r\n            user={u}\r\n            unfollowAccept={unfollowAccept}\r\n            followAccept={followAccept}\r\n            followingInProgress={followingInProgress}\r\n          />\r\n        ))\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default UsersList;\r\n","import React from 'react';\r\nimport styles from './Pagination.module.css';\r\n\r\nconst Pagination = (props) => {\r\n  const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n  const pages = [];\r\n  for (let i = 0; i < pagesCount; i++) {\r\n    pages.push(i + 1);\r\n  }\r\n  const pagination = [];\r\n  for (let i = props.currentPage - 1; (i < props.currentPage + 4) && (i < pagesCount); i++) {\r\n    if (i === 0) continue;\r\n    pagination.push(\r\n      <button\r\n        type=\"submit\"\r\n        key={i}\r\n        onClick={() => {\r\n          props.onPageChanged(i);\r\n        }}\r\n        className={`${styles.pageNumber}  ${props.currentPage === i ? styles.selectedPage : ''}`}\r\n      >\r\n        {i}\r\n      </button>,\r\n    );\r\n  }\r\n  pagination.push(<span key={0}>...</span>);\r\n  return pagination;\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport UsersList from './UsersList/UsersList';\r\nimport Pagination from '../common/Pagination/Pagination';\r\n\r\nconst Users = ({\r\n  totalUsersCount, pageSize, currentPage,\r\n  onPageChanged, isFetching, unfollowAccept,\r\n  followAccept, followingInProgress, users,\r\n}) => (\r\n  <div>\r\n    <div>\r\n      <Pagination totalUsersCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} />\r\n    </div>\r\n    {isFetching\r\n      ? <Preloader />\r\n      : <UsersList unfollowAccept={unfollowAccept} followAccept={followAccept} followingInProgress={followingInProgress} users={users} />}\r\n  </div>\r\n);\r\n\r\nexport default Users;\r\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from 'reselect';\r\n\r\nexport const getUsers = (state) => state.usersPage.users;\r\nexport const getPageSize = (state) => state.usersPage.pageSize;\r\nexport const getTotalUsersCount = (state) => state.usersPage.totalUsersCount;\r\nexport const getCurrentPage = (state) => state.usersPage.currentPage;\r\nexport const getIsFetching = (state) => state.usersPage.isFetching;\r\nexport const getFollowingInProgress = (state) => state.usersPage.followingInProgress;\r\nexport const exampleSelector = createSelector(getUsers, (users) => users.filter(() => true));\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport {\r\n  followAccept, getUsersRequest,\r\n  setCurrentPage,\r\n  unfollowAccept,\r\n} from '../../redux/usersReducer';\r\nimport Users from './Users';\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n} from './users-selectors';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsersRequest(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Users\r\n        unfollowAccept={this.props.unfollowAccept}\r\n        followAccept={this.props.followAccept}\r\n        followingInProgress={this.props.followingInProgress}\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        users={this.props.users}\r\n        isFetching={this.props.isFetching}\r\n        onPageChanged={(pageNumber) => {\r\n          this.props.setCurrentPage(pageNumber);\r\n          this.props.getUsersRequest(pageNumber, this.props.pageSize);\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  users: getUsers(state),\r\n  pageSize: getPageSize(state),\r\n  totalUsersCount: getTotalUsersCount(state),\r\n  currentPage: getCurrentPage(state),\r\n  isFetching: getIsFetching(state),\r\n  followingInProgress: getFollowingInProgress(state),\r\n});\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, {\r\n    setCurrentPage, getUsersRequest, followAccept, unfollowAccept,\r\n  }),\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  const wrappComponent = (props) => {\r\n    if (!props.isAuth) return <Redirect to=\"/login\" />;\r\n    return <Component />;\r\n  };\r\n  return connect(mapStateToProps)(wrappComponent);\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItem\":\"UsersList_userItem__2Gfs_\",\"userPhoto\":\"UsersList_userPhoto__1Ae9M\",\"userActionBtn\":\"UsersList_userActionBtn__RsYAe\",\"userInfo\":\"UsersList_userInfo__3Z94o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Pagination_pageNumber__Qt3qZ\",\"selectedPage\":\"Pagination_selectedPage__iSIl7\"};"],"sourceRoot":""}